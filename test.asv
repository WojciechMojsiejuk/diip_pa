close all
clear all
clc
img = im2double(imread('measurement_1_3.JPG'));
cimg = image_cropping(img);
cimg = illumination_normalization(cimg);
F_img = im2double(imread('F_mean.JPG'));
fimg = image_cropping(F_img);
[h,v]=geometry_calibration(fimg, false);
[coins, cimgs, C_geo]=geometry_estim(cimg,h,v);

for i = 1:
    im=cell2mat(cimgs(i));
    [C,dist, RGB] = color_estim(im, 7, false, true);
    disp(C)
%     figure
%     imshowpair(im,RGB,'montage')
end
disp(C_geo)
% C = normalize_pdf(C);
% cii = coins_in_images;
% % flip(cii(6,:))
% dist = normalize_pdf(dist);
% dist = 1 - dist; %we value the most objects with the smallest distance
% C = normalize_pdf(C);
    